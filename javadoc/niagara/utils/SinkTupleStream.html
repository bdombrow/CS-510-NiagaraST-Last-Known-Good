<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_16) on Fri Feb 12 13:47:27 PST 2010 -->
<TITLE>
SinkTupleStream
</TITLE>

<META NAME="date" CONTENT="2010-02-12">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SinkTupleStream";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SinkTupleStream.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../niagara/utils/SourceTupleStream.html" title="class in niagara.utils"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?niagara/utils/SinkTupleStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SinkTupleStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
niagara.utils</FONT>
<BR>
Class SinkTupleStream</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>niagara.utils.SinkTupleStream</B>
</PRE>
<HR>
<DL>
<DT><PRE>public final class <B>SinkTupleStream</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../niagara/utils/TuplePage.html" title="class in niagara.utils">TuplePage</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#buffer">buffer</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#Closed">Closed</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#Open">Open</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../niagara/utils/PageStream.html" title="class in niagara.utils">PageStream</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#pageStream">pageStream</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#reflectPartial">reflectPartial</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#sendImmediate">sendImmediate</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#status">status</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#SinkTupleStream(niagara.utils.PageStream)">SinkTupleStream</A></B>(<A HREF="../../niagara/utils/PageStream.html" title="class in niagara.utils">PageStream</A>&nbsp;stream)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#SinkTupleStream(niagara.utils.PageStream, boolean)">SinkTupleStream</A></B>(<A HREF="../../niagara/utils/PageStream.html" title="class in niagara.utils">PageStream</A>&nbsp;stream,
                boolean&nbsp;reflectPartial)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#endOfStream()">endOfStream</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function closes a stream so that no further upward or downward
 communication (other than get) is possible.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.ArrayList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#flushBuffer()">flushBuffer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flushes the buffer to the page stream and gets a new empty buffer
 to fill up.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.ArrayList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#getCtrlMsg(int)">getCtrlMsg</A></B>(int&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function returns a control element put down stream, if any
 exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#getStatus()">getStatus</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#isClosed()">isClosed</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#isSendImmediate()">isSendImmediate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.ArrayList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#processCtrlFlag(java.util.ArrayList)">processCtrlFlag</A></B>(java.util.ArrayList&nbsp;ctrl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SinkTupleStream handles some control messages - this function
 makes sure the handling is uniform.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#put(org.w3c.dom.Node)">put</A></B>(org.w3c.dom.Node&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;put a dom node (typically a document) into the stream -
 this is for the use of StreamScan, DTDScan, etc.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.ArrayList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#putCtrlMsg(int, java.lang.String)">putCtrlMsg</A></B>(int&nbsp;controlMsgId,
           java.lang.String&nbsp;ctrlMsg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This functions puts a control message in the sink buffer (upstream
 buffer).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.ArrayList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#putTuple(niagara.utils.Tuple)">putTuple</A></B>(<A HREF="../../niagara/utils/Tuple.html" title="class in niagara.utils">Tuple</A>&nbsp;tuple)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Puts a stream tuple element to the sink (in the up stream buffer.) This
 is successful only is no control information was previously received
 from the sink (in the down stream buffer).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#putTupleNoCtrlMsg(niagara.utils.Tuple)">putTupleNoCtrlMsg</A></B>(<A HREF="../../niagara/utils/Tuple.html" title="class in niagara.utils">Tuple</A>&nbsp;tuple)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#reflectPartial()">reflectPartial</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;put a SYNC_PARTIAL into the sink stream (upstream).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#setNotifyOnSink(niagara.utils.MailboxFlag)">setNotifyOnSink</A></B>(<A HREF="../../niagara/utils/MailboxFlag.html" title="class in niagara.utils">MailboxFlag</A>&nbsp;notifyMe)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#setSendImmediate()">setSendImmediate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/utils/SinkTupleStream.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a string representation of this stream</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="pageStream"><!-- --></A><H3>
pageStream</H3>
<PRE>
private <A HREF="../../niagara/utils/PageStream.html" title="class in niagara.utils">PageStream</A> <B>pageStream</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="buffer"><!-- --></A><H3>
buffer</H3>
<PRE>
private <A HREF="../../niagara/utils/TuplePage.html" title="class in niagara.utils">TuplePage</A> <B>buffer</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="status"><!-- --></A><H3>
status</H3>
<PRE>
private int <B>status</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="sendImmediate"><!-- --></A><H3>
sendImmediate</H3>
<PRE>
private boolean <B>sendImmediate</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="Open"><!-- --></A><H3>
Open</H3>
<PRE>
public static final int <B>Open</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#niagara.utils.SinkTupleStream.Open">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="Closed"><!-- --></A><H3>
Closed</H3>
<PRE>
public static final int <B>Closed</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#niagara.utils.SinkTupleStream.Closed">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="reflectPartial"><!-- --></A><H3>
reflectPartial</H3>
<PRE>
boolean <B>reflectPartial</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SinkTupleStream(niagara.utils.PageStream)"><!-- --></A><H3>
SinkTupleStream</H3>
<PRE>
public <B>SinkTupleStream</B>(<A HREF="../../niagara/utils/PageStream.html" title="class in niagara.utils">PageStream</A>&nbsp;stream)</PRE>
<DL>
<DD>Constructor
<P>
</DL>
<HR>

<A NAME="SinkTupleStream(niagara.utils.PageStream, boolean)"><!-- --></A><H3>
SinkTupleStream</H3>
<PRE>
public <B>SinkTupleStream</B>(<A HREF="../../niagara/utils/PageStream.html" title="class in niagara.utils">PageStream</A>&nbsp;stream,
                       boolean&nbsp;reflectPartial)</PRE>
<DL>
<DD>Constructor
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setSendImmediate()"><!-- --></A><H3>
setSendImmediate</H3>
<PRE>
public void <B>setSendImmediate</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isSendImmediate()"><!-- --></A><H3>
isSendImmediate</H3>
<PRE>
public boolean <B>isSendImmediate</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="endOfStream()"><!-- --></A><H3>
endOfStream</H3>
<PRE>
public void <B>endOfStream</B>()
                 throws java.lang.InterruptedException,
                        <A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></PRE>
<DL>
<DD>This function closes a stream so that no further upward or downward
 communication (other than get) is possible. This function is non-
 blocking.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE>
<DD><CODE><A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCtrlMsg(int)"><!-- --></A><H3>
getCtrlMsg</H3>
<PRE>
public java.util.ArrayList <B>getCtrlMsg</B>(int&nbsp;timeout)
                               throws <A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A>,
                                      java.lang.InterruptedException</PRE>
<DL>
<DD>This function returns a control element put down stream, if any
 exists. Otherwise, it returns null. This function is non-blocking.
 This function allows physOperator to check for control messages
 from its sinks after reading tuples from its sources
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Array list consisting of control flag of first control element downstream and ctrl msg; 
         NULLFLAG if there is no such element
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></CODE>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="putTuple(niagara.utils.Tuple)"><!-- --></A><H3>
putTuple</H3>
<PRE>
public java.util.ArrayList <B>putTuple</B>(<A HREF="../../niagara/utils/Tuple.html" title="class in niagara.utils">Tuple</A>&nbsp;tuple)
                             throws java.lang.InterruptedException,
                                    <A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></PRE>
<DL>
<DD>Puts a stream tuple element to the sink (in the up stream buffer.) This
 is successful only is no control information was previously received
 from the sink (in the down stream buffer). If there is control 
 information, an appropriate control flag is returned
 This function blocks until either the output element can be put in
 the up stream buffer or a control element is read from the down stream
 buffer.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tuple</CODE> - The tuple to be passed to the sink (upstream buffer)
<DT><B>Returns:</B><DD>CtrlFlags.NULLFLAG if successful, control flag otherwise
<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE> - The thread is interrupted in
                                           the middle of execution.
<DD><CODE><A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="putTupleNoCtrlMsg(niagara.utils.Tuple)"><!-- --></A><H3>
putTupleNoCtrlMsg</H3>
<PRE>
public void <B>putTupleNoCtrlMsg</B>(<A HREF="../../niagara/utils/Tuple.html" title="class in niagara.utils">Tuple</A>&nbsp;tuple)
                       throws java.lang.InterruptedException,
                              <A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE>
<DD><CODE><A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="put(org.w3c.dom.Node)"><!-- --></A><H3>
put</H3>
<PRE>
public void <B>put</B>(org.w3c.dom.Node&nbsp;node)
         throws java.lang.InterruptedException,
                <A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></PRE>
<DL>
<DD>put a dom node (typically a document) into the stream -
 this is for the use of StreamScan, DTDScan, etc.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE>
<DD><CODE><A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="putCtrlMsg(int, java.lang.String)"><!-- --></A><H3>
putCtrlMsg</H3>
<PRE>
public java.util.ArrayList <B>putCtrlMsg</B>(int&nbsp;controlMsgId,
                                      java.lang.String&nbsp;ctrlMsg)
                               throws java.lang.InterruptedException,
                                      <A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></PRE>
<DL>
<DD>This functions puts a control message in the sink buffer (upstream
 buffer). This function checks for control messages coming 
 from the sink. If such a control message is found, or if eos
 is encountered, an appropriate control flag is returned
 This function blocks until either the output element
 can be put in the up stream buffer or a control element is read from the
 down stream buffer.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>controlMsgId</CODE> - they type of control message to be put in stream
<DT><B>Returns:</B><DD>CtrlFlags.NULLFLAG on success, control flag otherwise
<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE>
<DD><CODE><A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="flushBuffer()"><!-- --></A><H3>
flushBuffer</H3>
<PRE>
public java.util.ArrayList <B>flushBuffer</B>()
                                throws <A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A>,
                                       java.lang.InterruptedException</PRE>
<DL>
<DD>flushes the buffer to the page stream and gets a new empty buffer
 to fill up.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>NULLFLAG on success, control flag if a control element
 was encountered during buffer flushing
 only ctrl flag returned by pageStream.putPageToSink is GET_PARTIAL
 or NULLFLAG
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></CODE>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="processCtrlFlag(java.util.ArrayList)"><!-- --></A><H3>
processCtrlFlag</H3>
<PRE>
private java.util.ArrayList <B>processCtrlFlag</B>(java.util.ArrayList&nbsp;ctrl)
                                     throws <A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A>,
                                            java.lang.InterruptedException</PRE>
<DL>
<DD>SinkTupleStream handles some control messages - this function
 makes sure the handling is uniform. SinkTupleStream handles
 some GET_PARTIALS and some REQ_BUF_FLUSHES
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctrlFlag</CODE> - The control flag received
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></CODE>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="reflectPartial()"><!-- --></A><H3>
reflectPartial</H3>
<PRE>
private void <B>reflectPartial</B>()
                     throws java.lang.InterruptedException,
                            <A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></PRE>
<DL>
<DD>put a SYNC_PARTIAL into the sink stream (upstream). This function
 is called when a GET_PARTIAL is received downstream and the
 operator using this SinkTupleStream can not/should not handle
 GET_PARTIAL messages

 calls putCtrlMsg (which calls flushBuffer) - this may recurse,
 but will always result in the buffer being sent
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE>
<DD><CODE><A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils">ShutdownException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD>Return a string representation of this stream
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the string representation of this stream</DL>
</DD>
</DL>
<HR>

<A NAME="getStatus()"><!-- --></A><H3>
getStatus</H3>
<PRE>
public int <B>getStatus</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isClosed()"><!-- --></A><H3>
isClosed</H3>
<PRE>
public boolean <B>isClosed</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setNotifyOnSink(niagara.utils.MailboxFlag)"><!-- --></A><H3>
setNotifyOnSink</H3>
<PRE>
public void <B>setNotifyOnSink</B>(<A HREF="../../niagara/utils/MailboxFlag.html" title="class in niagara.utils">MailboxFlag</A>&nbsp;notifyMe)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SinkTupleStream.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../niagara/utils/ShutdownException.html" title="class in niagara.utils"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../niagara/utils/SourceTupleStream.html" title="class in niagara.utils"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?niagara/utils/SinkTupleStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SinkTupleStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
