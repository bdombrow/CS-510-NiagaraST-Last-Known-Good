<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_16) on Mon Jan 25 14:34:47 PST 2010 -->
<TITLE>
LogPlanGenerator
</TITLE>

<META NAME="date" CONTENT="2010-01-25">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LogPlanGenerator";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/LogPlanGenerator.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../niagara/logical/Magic.html" title="class in niagara.logical"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?niagara/logical/LogPlanGenerator.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LogPlanGenerator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
niagara.logical</FONT>
<BR>
Class LogPlanGenerator</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>niagara.logical.LogPlanGenerator</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>LogPlanGenerator</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../niagara/xmlql_parser/constructBaseNode.html" title="class in niagara.xmlql_parser">constructBaseNode</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#constructPart">constructPart</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#listOfConstruct">listOfConstruct</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#listOfInClause">listOfInClause</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#listOfPredicates">listOfPredicates</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#listOfTagVar">listOfTagVar</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#partialTree">partialTree</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#tmpvarnum">tmpvarnum</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#LogPlanGenerator(niagara.xmlql_parser.query)">LogPlanGenerator</A></B>(<A HREF="../../niagara/xmlql_parser/query.html" title="class in niagara.xmlql_parser">query</A>&nbsp;q)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#addCartesian()">addCartesian</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the number of partial trees is still more than one, after 
 consuming all the predicates and none of them have variables in
 common with other, then they are joined without any join predicate
 (i.e.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#addConstruct()">addConstruct</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use the addToList method to flatten the n-ary tree for the 
 pattern and then for each construct node in the list generate a
 construct operator and add to the top of the tree</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#addEquiJoin()">addEquiJoin</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;From the list of partial trees, find the pairs that have some
 variables in common and then replace it with their join.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#addJoin()">addJoin</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Try to join the partial trees whose union of variables contain
 all the variables of some predicates.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#addSelect()">addSelect</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scan through the list of predicates and check if the variables
 present in them are contained in the variables encountered in any
 of the partial trees.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#addToList(niagara.xmlql_parser.constructBaseNode, int)">addToList</A></B>(<A HREF="../../niagara/xmlql_parser/constructBaseNode.html" title="class in niagara.xmlql_parser">constructBaseNode</A>&nbsp;_cn,
          int&nbsp;initial_slot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is a recursive function that is used to flatten the n-ary
 tree representation of the pattern of the construct part of the
 query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#dumpPlan()">dumpPlan</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump the plan to the standard output</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical">LogNode</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#genLogPlan(niagara.xmlql_parser.inClause)">genLogPlan</A></B>(<A HREF="../../niagara/xmlql_parser/inClause.html" title="class in niagara.xmlql_parser">inClause</A>&nbsp;inc)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generates the partial tree which is a chain of Scan nodes with the
 dtdScan as the leaf node for an IN clause.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical">LogNode</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#getLogPlan()">getLogPlan</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the main method that returns the logical plan</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#getTmpVar()">getTmpVar</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used for generating temporary variables</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#initialLogTrees()">initialLogTrees</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate a chain of Scan nodes for eact IN clause and add it
 to the list of partial trees</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical">LogNode</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#joinTree(niagara.logical.LogNode, niagara.logical.LogNode, java.util.Vector)">joinTree</A></B>(<A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical">LogNode</A>&nbsp;leftTree,
         <A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical">LogNode</A>&nbsp;rightTree,
         java.util.Vector&nbsp;comVar)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used to join two partial trees which have some variables in common</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;argv)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test program for testing the generation of logical plan</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../niagara/xmlql_parser/regExp.html" title="class in niagara.xmlql_parser">regExp</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../niagara/logical/LogPlanGenerator.html#valueOfTagVar(java.lang.String)">valueOfTagVar</A></B>(java.lang.String&nbsp;var)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gives an equivalent regular expression for the tag variables.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="listOfInClause"><!-- --></A><H3>
listOfInClause</H3>
<PRE>
private java.util.Vector <B>listOfInClause</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="listOfTagVar"><!-- --></A><H3>
listOfTagVar</H3>
<PRE>
private java.util.Vector <B>listOfTagVar</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="listOfPredicates"><!-- --></A><H3>
listOfPredicates</H3>
<PRE>
private java.util.Vector <B>listOfPredicates</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="listOfConstruct"><!-- --></A><H3>
listOfConstruct</H3>
<PRE>
private java.util.Vector <B>listOfConstruct</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="constructPart"><!-- --></A><H3>
constructPart</H3>
<PRE>
private <A HREF="../../niagara/xmlql_parser/constructBaseNode.html" title="class in niagara.xmlql_parser">constructBaseNode</A> <B>constructPart</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="partialTree"><!-- --></A><H3>
partialTree</H3>
<PRE>
private java.util.Vector <B>partialTree</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="tmpvarnum"><!-- --></A><H3>
tmpvarnum</H3>
<PRE>
private static int <B>tmpvarnum</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="LogPlanGenerator(niagara.xmlql_parser.query)"><!-- --></A><H3>
LogPlanGenerator</H3>
<PRE>
public <B>LogPlanGenerator</B>(<A HREF="../../niagara/xmlql_parser/query.html" title="class in niagara.xmlql_parser">query</A>&nbsp;q)</PRE>
<DL>
<DD>Constructor
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>the</CODE> - syntax tree for the XML-QL query</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="valueOfTagVar(java.lang.String)"><!-- --></A><H3>
valueOfTagVar</H3>
<PRE>
private <A HREF="../../niagara/xmlql_parser/regExp.html" title="class in niagara.xmlql_parser">regExp</A> <B>valueOfTagVar</B>(java.lang.String&nbsp;var)</PRE>
<DL>
<DD>gives an equivalent regular expression for the tag variables.
 $a IN {author, editor} will give the following regular expression
 for the tag variable $a :         |
                                  / \
                             author editor
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>the</CODE> - variable
<DT><B>Returns:</B><DD>the equivalent regular expression</DL>
</DD>
</DL>
<HR>

<A NAME="getTmpVar()"><!-- --></A><H3>
getTmpVar</H3>
<PRE>
private java.lang.String <B>getTmpVar</B>()</PRE>
<DL>
<DD>used for generating temporary variables
<P>
<DD><DL>

<DT><B>Returns:</B><DD>temporary variable</DL>
</DD>
</DL>
<HR>

<A NAME="genLogPlan(niagara.xmlql_parser.inClause)"><!-- --></A><H3>
genLogPlan</H3>
<PRE>
private <A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical">LogNode</A> <B>genLogPlan</B>(<A HREF="../../niagara/xmlql_parser/inClause.html" title="class in niagara.xmlql_parser">inClause</A>&nbsp;inc)</PRE>
<DL>
<DD>generates the partial tree which is a chain of Scan nodes with the
 dtdScan as the leaf node for an IN clause.
 The IN clause <book> <author> </> </> IN book.xml will give the
 following chain:
   Scan book
       ^
   Scan author
       ^
   dtdScan book.xml
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>the</CODE> - IN clause
<DT><B>Returns:</B><DD>the partial tree</DL>
</DD>
</DL>
<HR>

<A NAME="initialLogTrees()"><!-- --></A><H3>
initialLogTrees</H3>
<PRE>
private void <B>initialLogTrees</B>()</PRE>
<DL>
<DD>Generate a chain of Scan nodes for eact IN clause and add it
 to the list of partial trees
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addSelect()"><!-- --></A><H3>
addSelect</H3>
<PRE>
private void <B>addSelect</B>()</PRE>
<DL>
<DD>Scan through the list of predicates and check if the variables
 present in them are contained in the variables encountered in any
 of the partial trees. If yes, then add a Select node with these
 predicates as the Selection condition.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="joinTree(niagara.logical.LogNode, niagara.logical.LogNode, java.util.Vector)"><!-- --></A><H3>
joinTree</H3>
<PRE>
private <A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical">LogNode</A> <B>joinTree</B>(<A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical">LogNode</A>&nbsp;leftTree,
                         <A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical">LogNode</A>&nbsp;rightTree,
                         java.util.Vector&nbsp;comVar)</PRE>
<DL>
<DD>Used to join two partial trees which have some variables in common
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>the</CODE> - left tree<DD><CODE>the</CODE> - right tree<DD><CODE>list</CODE> - of common variables</DL>
</DD>
</DL>
<HR>

<A NAME="addEquiJoin()"><!-- --></A><H3>
addEquiJoin</H3>
<PRE>
private void <B>addEquiJoin</B>()</PRE>
<DL>
<DD>From the list of partial trees, find the pairs that have some
 variables in common and then replace it with their join. This
 process is repeated until no more trees can be joined.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addJoin()"><!-- --></A><H3>
addJoin</H3>
<PRE>
private void <B>addJoin</B>()</PRE>
<DL>
<DD>Try to join the partial trees whose union of variables contain
 all the variables of some predicates.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addCartesian()"><!-- --></A><H3>
addCartesian</H3>
<PRE>
private void <B>addCartesian</B>()</PRE>
<DL>
<DD>If the number of partial trees is still more than one, after 
 consuming all the predicates and none of them have variables in
 common with other, then they are joined without any join predicate
 (i.e. cartesian product) to get only one tree.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addToList(niagara.xmlql_parser.constructBaseNode, int)"><!-- --></A><H3>
addToList</H3>
<PRE>
private int <B>addToList</B>(<A HREF="../../niagara/xmlql_parser/constructBaseNode.html" title="class in niagara.xmlql_parser">constructBaseNode</A>&nbsp;_cn,
                      int&nbsp;initial_slot)</PRE>
<DL>
<DD>This is a recursive function that is used to flatten the n-ary
 tree representation of the pattern of the construct part of the
 query. Ecah root of the subtree of this n-ary tree has a 
 corresponding schema attribute. An internal node is has the tag name
 and these schema attributes as its children. This function is passed
 the length of the current Schema, so that the position of the next
 schema attribute is one more than this.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>the</CODE> - construct node<DD><CODE>the</CODE> - position or value of the first schema attribute</DL>
</DD>
</DL>
<HR>

<A NAME="addConstruct()"><!-- --></A><H3>
addConstruct</H3>
<PRE>
private void <B>addConstruct</B>()</PRE>
<DL>
<DD>Use the addToList method to flatten the n-ary tree for the 
 pattern and then for each construct node in the list generate a
 construct operator and add to the top of the tree
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="dumpPlan()"><!-- --></A><H3>
dumpPlan</H3>
<PRE>
public void <B>dumpPlan</B>()</PRE>
<DL>
<DD>dump the plan to the standard output
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLogPlan()"><!-- --></A><H3>
getLogPlan</H3>
<PRE>
public <A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical">LogNode</A> <B>getLogPlan</B>()</PRE>
<DL>
<DD>the main method that returns the logical plan
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the logical plan for the query</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;argv)</PRE>
<DL>
<DD>test program for testing the generation of logical plan
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/LogPlanGenerator.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../niagara/logical/LogNode.html" title="class in niagara.logical"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../niagara/logical/Magic.html" title="class in niagara.logical"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?niagara/logical/LogPlanGenerator.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LogPlanGenerator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
