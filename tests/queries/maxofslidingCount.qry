<?xml version="1.0"?>
<!DOCTYPE plan SYSTEM "http://www.cs.pdx.edu/~tufte/xml/bids.dtd">

<plan top="cons">
<dtdscan id="dtd">
<url value="http://www.cs.pdx.edu/~tufte/xml/bids.xml"/>
</dtdscan>
<unnest id="scan" regexp="BIDS.BID" input="dtd"/>
<unnest id="auction" regexp="auction" input="scan"/>
<slidingCount id="slidingCount"  groupby="$auction" countattr="$auction" input="auction" range="5" every="3"/>
<max id="max" groupby="$index" maxattr="$slidingCount" input="slidingCount"/>
<construct id="cons" input="max">
<![CDATA[ <max><index>$index</index>$max</max> ]]>
</construct>
</plan>
